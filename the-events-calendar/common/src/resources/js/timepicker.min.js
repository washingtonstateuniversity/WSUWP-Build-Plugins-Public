var tribe_timepickers=tribe_timepickers||{};!function(l,m){"use strict";m.selector={container:".tribe-datetime-block",timepicker:".tribe-timepicker",all_day:"#allDayCheckbox",timezone:".tribe-field-timezone",input:"select, input"},m.timepicker={opts:{forceRoundTime:!1,step:30}},m.timezone={link:_.template('<a href="#" class="tribe-change-timezone"><%= label %> <%= timezone %></a>')},m.$={},m.container=function(e,t){var i=l(t),n=i.find(m.selector.all_day),r=i.find(m.selector.timepicker),c=i.find(m.selector.timezone).not(m.selector.input),o=i.find(m.selector.timezone).filter(m.selector.input),a=l(m.timezone.link({label:o.data("timezoneLabel"),timezone:o.data("timezoneValue")}));n.on("change",function(){!0===n.prop("checked")?r.hide():r.show()}).trigger("change"),m.setup_timepickers(r),a.on("click",function(e){c=i.find(m.selector.timezone).filter(".select2-container"),e.preventDefault(),a.hide(),c.show()}),o.before(a)},m.init=function(){m.$.containers=l(m.selector.container),m.$.containers.each(m.container)},m.setup_timepickers=function(e){e.each(function(){var e=l(this),t=l.extend({},m.timepicker.opts);e.data("format")&&(t.timeFormat=e.data("format")),e.data("step")&&(t.step=e.data("step"));var i=e.data("round");i&&0!=i&&"false"!==i&&(t.forceRoundTime=!0),void 0!==l.fn.tribeTimepicker?e.tribeTimepicker(t).trigger("change"):e.timepicker(t).trigger("change")})},l(document).ready(m.init)}(jQuery,tribe_timepickers);