!function(e,n,d){"use strict";function i(d){var i=e(this),c="#"+i.attr("id"),r=i.val();if(c){if(i.is(":radio")){var s=e("[name='"+i.attr("name")+"']");s.not(a.linked).on("change",function(){s.trigger("verify.dependency")}).addClass(a.linked.replace(".",""))}var p=t.find('[data-depends="'+c+'"]').not(".select2-container");0!==p.length&&(p.each(function(d,t){var c=e(t),s=c.is("[data-dependent-parent]");if(s){var p=c.data("dependentParent"),u=c.closest(p);if(0===u.length)return void console.warn("Dependency: `data-dependent-parent` has bad selector",c);c=u.find(t)}var l,f={condition:!!c.is("[data-condition]")&&c.data("condition"),not_condition:!!c.is("[data-condition-not]")&&c.data("conditionNot"),is_not_empty:c.data("conditionIsNotEmpty")||c.is("[data-condition-is-not-empty]")||c.data("conditionNotEmpty")||c.is("[data-condition-not-empty]"),is_empty:c.data("conditionIsEmpty")||c.is("[data-condition-is-empty]")||c.data("conditionEmpty")||c.is("[data-condition-empty]"),is_numeric:c.data("conditionIsNumeric")||c.is("[data-condition-is-numeric]")||c.data("conditionNumeric")||c.is("[data-condition-numeric]"),is_not_numeric:c.data("conditionIsNotNumeric")||c.is("[data-condition-is-not-numeric]"),is_checked:c.data("conditionIsChecked")||c.is("[data-condition-is-checked]")||c.data("conditionChecked")||c.is("[data-condition-checked]"),is_not_checked:c.data("conditionIsNotChecked")||c.is("[data-condition-is-not-checked]")||c.data("conditionNotChecked")||c.is("[data-condition-not-checked]")},y=a.active.replace(".",""),h=c.data("dependencyCheckDisabled")||c.is("[data-dependency-check-disabled]"),m=!h&&i.is(":disabled"),v=c.data("condition-relation")||"or";f=n.pick(f,function(e){return!1!==e}),l="or"===v?n.reduce(f,function(e,n,d){return e||o[d](r,n,i)},!1):n.reduce(f,function(e,n,d){return e&&o[d](r,n,i)},!0),l&&!m?(c.data("select2")?(c.data("select2").container.addClass(y),c.data("select2").container.is(":hidden")&&c.data("select2").container.show()):(c.addClass(y),c.is(":hidden")&&c.show()),c.find(a.fields).prop("disabled",!1),"undefined"!=typeof e().select2&&c.find(".select2-container").select2("enable",!0)):(c.removeClass(y),c.is(":visible")&&c.hide(),c.data("dependency-dont-disable")||c.find(a.fields).prop("disabled",!0),"undefined"!=typeof e().select2&&c.find(".select2-container").select2("enable",!1),c.data("select2")&&c.data("select2").container.removeClass(y));var k=c.find(a.dependency);k.length>0&&k.trigger("change")}),i.addClass(a.dependencyVerified.className()))}}var t=e(document),c=e(window),a={dependent:".tribe-dependent",active:".tribe-active",dependency:".tribe-dependency",dependencyVerified:".tribe-dependency-verified",fields:"input, select, textarea",advanced_fields:".select2-container",linked:".tribe-dependent-linked"},o={condition:function(e,d){return n.isArray(d)?-1!==d.indexOf(e):e==d},not_condition:function(e,d){return n.isArray(d)?-1===d.indexOf(e):e!=d},is_not_empty:function(e){return""!=e},is_empty:function(e){return""===e},is_numeric:function(n){return e.isNumeric(n)},is_not_numeric:function(n){return!e.isNumeric(n)},is_checked:function(e,n,d){return!(!d.is(":checkbox")&&!d.is(":radio"))&&d.is(":checked")},is_not_checked:function(e,n,d){return!(!d.is(":checkbox")&&!d.is(":radio"))&&!d.is(":checked")}};e.fn.dependency=function(){return this.each(function(){var n=e(this),d=n.data("depends"),i=e(d),t=i.get(0);t&&!t.created&&(i.addClass(a.dependency.replace(".","")).data("dependent",n),t.created=!0)})},t.off("change.dependency verify.dependency",a.dependency).on({"verify.dependency":i,"change.dependency":i},a.dependency),d.run=function(n){var d=e(a.dependent);d.length&&d.dependency();var i=e(a.dependency);i.not(a.dependencyVerified).length&&i.trigger("verify.dependency")},t.ready(d.run),t.on("tribe.dependencies-run",d.run),c.on("load",d.run)}(jQuery,window.underscore||window._,{});