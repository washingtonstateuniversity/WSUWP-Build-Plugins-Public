String.prototype.className=function(){return"string"!=typeof this&&!this instanceof String||"function"!=typeof this.replace?this:this.replace(".","")},String.prototype.varName=function(){return"string"!=typeof this&&!this instanceof String||"function"!=typeof this.replace?this:this.replace("-","_")};var tribe=tribe||{},tribe_auto_sysinfo=tribe_auto_sysinfo||{};tribe_auto_sysinfo.ajax={event:{}},function(t,i){"use strict";i.init=function(){this.init_ajax(),this.init_copy(),this.init_tooltip(),i.navigate_to_id()},i.init_copy=function(){if("undefined"!=typeof tribe_system_info){var i=new Clipboard(".system-info-copy-btn"),n='<span class="dashicons dashicons-clipboard license-btn"></span>',e=tribe_system_info.clipboard_btn_text;t(".system-info-copy-btn").click(function(t){t.preventDefault()}),i.on("success",function(t){t.clearSelection(),t.trigger.innerHTML=n+'<span class="optin-success">'+tribe_system_info.clipboard_copied_text+"<span>",window.setTimeout(function(){t.trigger.innerHTML=n+e},5e3)}),i.on("error",function(t){t.trigger.innerHTML=n+'<span class="optin-fail">'+tribe_system_info.clipboard_fail_text+"<span>",window.setTimeout(function(){t.trigger.innerHTML=n+e},5e3)})}},i.init_ajax=function(){"undefined"!=typeof tribe_system_info&&(this.$system_info_opt_in=t(document.getElementById("tribe_auto_sysinfo_opt_in")),this.$system_info_opt_in_msg=t(".tribe-sysinfo-optin-msg"),this.$system_info_opt_in.change(function(){this.checked?i.event.ajax("generate"):i.event.ajax("remove")}))},i.event.ajax=function(n){var e={action:"tribe_toggle_sysinfo_optin",confirm:tribe_system_info.sysinfo_optin_nonce,generate_key:n};t.post(ajaxurl,e,function(n){n.success?i.$system_info_opt_in_msg.html("<p class='optin-success'>"+n.data+"</p>"):(i.$system_info_opt_in_msg.html("<p class='optin-fail'>"+n.data.message+" Code:"+n.data.code+" Status:"+n.data.data.status+"</p>"),t("#tribe_auto_sysinfo_opt_in").prop("checked",!1))})},i.init_tooltip=function(){t(document).on("click",".tribe-tooltip",function(){var i=t(this).closest(".tribe-tooltip"),n=!i.hasClass("active");t(".tribe-tooltip").each(function(){t(this).removeClass("active").attr("aria-expanded",!1)}),n&&t(i).addClass("active").attr("aria-expanded",!0)})},i.navigate_to_id=function(){t(document).ready(i.maybe_navigate_to_id_on_doc_ready),t(document).on("click",".tribe_events_page_tribe-common",i.maybe_navigate_to_id_after_click)},i.maybe_navigate_to_id_on_doc_ready=function(){var t=i.get_url_fragment(window.location.href);t.length&&i.adjust_scroll_position(t)},i.maybe_navigate_to_id_after_click=function(n){var e=t(n.target).attr("href");if(void 0!==e){var o=i.get_url_fragment(e);o&&i.adjust_scroll_position(o)}},i.adjust_scroll_position=function(i){if(t("#wpadminbar").length){var n=t("#"+i).position();n&&setTimeout(function(){window.scroll(window.scrollX,n.top)})}},i.get_url_fragment=function(t){var i=t.match(/#([a-z0-9_-]+)$/i);return null===i?"":i[1]},t(function(){i.init()})}(jQuery,tribe_auto_sysinfo.ajax);