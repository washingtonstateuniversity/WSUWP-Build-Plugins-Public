String.prototype.className=function(){return"string"!=typeof this&&!this instanceof String||"function"!=typeof this.replace?this:this.replace(".","")},String.prototype.varName=function(){return"string"!=typeof this&&!this instanceof String||"function"!=typeof this.replace?this:this.replace("-","_")};var tribe=tribe||{},tribe_auto_sysinfo=tribe_auto_sysinfo||{};tribe_auto_sysinfo.ajax={event:{}},function(e,o){"use strict";o.init=function(){this.init_ajax(),this.init_copy(),o.navigate_to_id()},o.init_copy=function(){if("undefined"!=typeof tribe_system_info){var t=new Clipboard(".system-info-copy-btn"),i='<span class="dashicons dashicons-clipboard license-btn"></span>',n=tribe_system_info.clipboard_btn_text;e(".system-info-copy-btn").click(function(t){t.preventDefault()}),t.on("success",function(t){t.clearSelection(),t.trigger.innerHTML=i+'<span class="optin-success">'+tribe_system_info.clipboard_copied_text+"<span>",window.setTimeout(function(){t.trigger.innerHTML=i+n},5e3)}),t.on("error",function(t){t.trigger.innerHTML=i+'<span class="optin-fail">'+tribe_system_info.clipboard_fail_text+"<span>",window.setTimeout(function(){t.trigger.innerHTML=i+n},5e3)})}},o.init_ajax=function(){"undefined"!=typeof tribe_system_info&&(this.$system_info_opt_in=e(document.getElementById("tribe_auto_sysinfo_opt_in")),this.$system_info_opt_in_msg=e(".tribe-sysinfo-optin-msg"),this.$system_info_opt_in.change(function(){this.checked?o.event.ajax("generate"):o.event.ajax("remove")}))},o.event.ajax=function(t){var i={action:"tribe_toggle_sysinfo_optin",confirm:tribe_system_info.sysinfo_optin_nonce,generate_key:t};e.post(ajaxurl,i,function(t){t.success?o.$system_info_opt_in_msg.html("<p class='optin-success'>"+t.data+"</p>"):(o.$system_info_opt_in_msg.html("<p class='optin-fail'>"+t.data.message+" Code:"+t.data.code+" Status:"+t.data.data.status+"</p>"),e("#tribe_auto_sysinfo_opt_in").prop("checked",!1))})},o.navigate_to_id=function(){e(document).ready(o.maybe_navigate_to_id_on_doc_ready),e(document).on("click",".tribe_events_page_tribe-common",o.maybe_navigate_to_id_after_click)},o.maybe_navigate_to_id_on_doc_ready=function(){var t=o.get_url_fragment(window.location.href);t.length&&o.adjust_scroll_position(t)},o.maybe_navigate_to_id_after_click=function(t){var i=e(t.target).attr("href");if(void 0!==i){var n=o.get_url_fragment(i);n&&o.adjust_scroll_position(n)}},o.adjust_scroll_position=function(t){if(e("#wpadminbar").length){var i=e("#"+t).position();i&&setTimeout(function(){window.scroll(window.scrollX,i.top)})}},o.get_url_fragment=function(t){var i=t.match(/#([a-z0-9_-]+)$/i);return null===i?"":i[1]},e(function(){o.init()})}(jQuery,tribe_auto_sysinfo.ajax);